<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:custom="http://www.businessreach.com/custom"
	xmlns:p="http://primefaces.org/ui">

	<h:panelGroup id="externalPortalPanelGroup">
		<h:panelGrid id="portalPanel" columns="1">

			<h:inputText id="externalPortalName" styleClass="input-block-level"
				style="margin-bottom:10px" size="45"
				value="#{orgView.externalPortal.portalName}" />
			<p:watermark for="externalPortalName" value="External Portal Name" />

			<h:inputText id="externalPortalUrl" styleClass="input-block-level"
				style="margin-bottom:10px" size="45"
				value="#{orgView.externalPortal.portalUrl}" />
			<p:watermark for="externalPortalUrl" value="External Portal Url" />

			<f:facet name="footer">
				<h:panelGroup style="display:block; text-align:center">
					<p:commandButton id="addPortalPanelBtn" value="Add"
						style="margin-bottom:10px"
						actionListener="#{orgView.addExternalPortal()}"
						process="portalPanel" update="externalPortalPanelGroup"
						partialSubmit="true" />
					<p:tooltip for="addPortalPanelBtn" value="Add external portal link"
						showEffect="fade" hideEffect="fade" />
				</h:panelGroup>
			</f:facet>

		</h:panelGrid>

		<p:dataTable id="externalPortalList" var="extPortal"
			value="#{orgView.externalPortalList}"
			style="margin-top:10px;margin-bottom:10px"
			rendered="#{not empty orgView.externalPortalList}">

			<p:column id="extPortalName" styleClass="buttomBorder">
				<h:outputText value="#{extPortal.portalName}" />
			</p:column>

			<p:column id="extPortalUrl" styleClass="buttomBorder">
				<h:outputText value="#{extPortal.portalUrl}" />
			</p:column>

			<p:column style="width:4%" styleClass="buttomBorder">
				<p:commandButton id="extPortalDeleteBtn" value="Delete"
					update=":form:externalPortalPanelGroup"
					actionListener="#{orgView.deleteExternalPortal(extPortal.uuid)}"
					title="Delete" process="@this" />
				<p:tooltip for="extPortalDeleteBtn" value="Delete business location"
					showEffect="fade" hideEffect="fade" />
			</p:column>

		</p:dataTable>
	</h:panelGroup>


</ui:composition>
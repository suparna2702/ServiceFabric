<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:custom="http://www.businessreach.com/custom"
	xmlns:p="http://primefaces.org/ui">

	<p:outputPanel id="productTagOutputPanel" autoUpdate="true">
		<p:panel style="margin-bottom:20px;margin-top:20px;">
			<p:panel id="addProductTagTextPanel"
				style="margin-bottom:2px;border:hidden">
				<h:inputText id="addProductTagText"
					value="#{productView.productTagToAdd}"
					styleClass="input-block-level" size="45" />
				<p:commandButton id="addProductTagBtn" value="Add"
					action="#{productView.addProductTag}" style="margin-left:10px;"
					process="@this productTagOutputPanel"
					update="productTagOutputPanel" />
				<p:tooltip for="addProductTagBtn" value="Add a product tag"
					showEffect="fade" hideEffect="fade" />
			</p:panel>

			<p:panel id="productTagPanel" style="border-style:hidden">

				<p:dataTable id="productTagDataTable" styleClass="hide-column-names"
					rowKey="#{productTag.id}" var="productTag"
					value="#{productView.tags}"
					rendered="#{not empty productView.tags}">

					<p:column style="border:hidden">
						<p>#{productTag.key.name}</p>
					</p:column>

					<p:column style="border:hidden">
						<p:commandButton id="deleteProductTagBtn"
							action="#{productView.deleteProductTag(productTag.key)}"
							value="Delete" style="margin-left:10px;"
							update="productTagDataTable" process="@this productTagDataTable">
						</p:commandButton>
						<p:tooltip for="deleteProductTagBtn" value="Delete this tag"
							showEffect="fade" hideEffect="fade" />
					</p:column>
				</p:dataTable>

			</p:panel>
		</p:panel>
	</p:outputPanel>
</ui:composition>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:custom="http://www.businessreach.com/custom"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/basemenulayout.xhtml">

	<ui:define name="title">Member Feedbacks </ui:define>
	<ui:define name="centerContent">
	
	<h3>View All Feedbacks</h3>
		<p:spacer height="10" />

		<p:panel style="border:hidden">
			<p:dataTable id="feedbackTable" var="feedback" paginator="true"
				rows="20" value="#{memberFeedbackView.feedbackList}"
				widgetVar="feedbackDataTable">

				<p:column id="feedbackId" style="width:40px">
					<h:outputText value="#{feedback.id}" />
				</p:column>

                <c:if test="#{feedback.member != null}">
					<p:column id="providerName" style="width:60px" 
						filterBy="#{feedback.member.fullName}" sortBy="#{feedback.member.fullName}"
						headerText="Provider Name" filterMatchMode="startsWith">
						<h:outputText value="#{feedback.member.fullName}" />
					</p:column>
                </c:if>
                
				<p:column id="feedbackText" style="width:60px" 
				    headerText="Feedback">
					<h:outputText value="#{feedback.memberFeedback}" />
				</p:column>

				<p:column id="feedbackDate" style="width:60px"
					headerText="Date" >
					<h:outputText value="#{feedback.feedbackDate}" >
					   <f:convertDateTime pattern="d-M-yyyy" />
					</h:outputText>
				</p:column>
				
				<p:column id="feedbackStatus" style="width:60px"
					headerText="Status" >
					<h:outputText value="#{feedback.status}" />
				</p:column>

			</p:dataTable>
		</p:panel>
	
	</ui:define>
</ui:composition>
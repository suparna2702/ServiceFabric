<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:custom="http://www.businessreach.com/custom"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/basemenulayout.xhtml">

	<ui:define name="title">All Member</ui:define>
	<ui:define name="centerContent">
	
	 <h3>View All Members : #{memberAdminView.numActiveMember}</h3>
	 <p:spacer height="10"/>
	
	   <p:panel style="border:hidden">
	   	  <p:dataTable id="memberAdminTable" var="member" paginator="true" rows="20"
	   	               value="#{memberAdminView.memberInfoList}" widgetVar="memberAdminDataTable">
		      
		      <p:column style="width:16px">
	             <p:rowToggler />
	          </p:column>
	          
		      <p:column id="memberFirstName" style="width:60px" 
		            filterBy="#{member.firstName}" headerText="First Name" 
		            filterMatchMode="startsWith">
		            <h:outputText value="#{member.firstName}" />
		      </p:column>
		      
		      <p:column id="memberLastName" style="width:60px" 
		            filterBy="#{member.lastName}" sortBy="#{member.lastName}" headerText="Last Name" 
		            filterMatchMode="startsWith">
		            <h:outputText value="#{member.lastName}" />
		      </p:column>
		      
		      <p:column id="memberEmail" style="width:60px" 
		            filterBy="#{member.email}" headerText="Email" 
		            filterMatchMode="startsWith">
		            <h:outputText value="#{member.email}" />
		      </p:column>
		      
		      <p:column id="memberStatus" style="width:60px" 
		            filterBy="#{member.status}" headerText="Status" 
		            filterMatchMode="startsWith">
		            <h:outputText value="#{member.status}" />
		      </p:column>
		      
		      <p:column id="memberDelete" style="width:60px" headerText="Disable">
			      <h:commandLink
					actionListener="#{memberAdminView.deleteMember(member.id)}">
					<f:ajax execute="@this" render="memberAdminTable" />
					<p:graphicImage value="/images/monoicons/cancelIcon24.png" 
					        width="15" height="15" />
				 </h:commandLink>
		      </p:column>
			
		      <p:rowExpansion>
	            <p:panel style="border:hidden;">
	                <h:panelGrid columns="2">
	                    <h:outputText value="Id " />
	                    <h:outputText value="#{member.id}" />
	                    <h:outputText value="Name " />
		                <h:outputText value="#{member.firstName} #{member.lastName}" />
		                <h:outputText value="Business Phone " />
		                <h:outputText value="#{member.businessPhone}" />
		                <h:outputText value="Mobile Phone " />
		                <h:outputText value="#{member.mobilePhone}" />
		                <h:outputText value="Industry " />
		                <h:outputText value="#{member.industry}" />
		                <h:outputText value="Street " />
		                <h:outputText value="#{member.street}" />
		                <h:outputText value="City " />
		                <h:outputText value="#{member.city}" />
		                <h:outputText value="Country " />
		                <h:outputText value="#{member.country}" />
		                <h:outputText value="Zip Code " />
		                <h:outputText value="#{member.zipCode}" />
	                </h:panelGrid>
	                <p:commandButton value="Suspend" style="margin-top:10px"/>
	                <p:commandButton value="Reactivate" 
	                                 style="margin-top:10px;margin-left:10px"/> 
	            </p:panel>
	         </p:rowExpansion>
		  </p:dataTable>
	 </p:panel>
    </ui:define>
</ui:composition>